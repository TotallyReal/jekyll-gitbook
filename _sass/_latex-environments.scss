/*------------- environment styles ------------------*/

.callout-content-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.5s ease-out;
}

.section.active .callout-content-wrapper,
.callout-content-wrapper:not([data-collapsed]) {
    grid-template-rows: 1fr;
}

.callout-title[collapsible] {
    cursor: pointer;
}

.callout-content {
    overflow: hidden;
}

%env-section {
    margin: 15px 5px 15px 5px;
    padding: 15px 10px 2px 10px;
}

.highlight-section {
    --callout-color: 238, 100, 149;
    --callout-icon: lucide-sun;
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 4px solid rgb(var(--callout-color));
    box-shadow: none;
    margin: 5px;

    .callout-title {
        font-size: 25px;
        padding: 2px;
        padding-left: 12px;
        /*inner title?*/
        font-family: Inter;
        font-weight: normal;
        background: rgba(var(--callout-color), 0.2);
        color: rgb(var(--callout-color));
    }

    .callout-content {
        padding: 1px 20px 2px 20px;
    }
}

.bordered-section {
    position: relative;
    border: 6px solid #ccccff; /* Adjust the border style and color as needed */
    border-radius: 8px; /* Add rounded corners */
    @extend %env-section;
    margin-top: 25px;
    padding-top: 25px;

    .callout-title {
        position: absolute;
        top: -27px; /* Adjust the positioning as needed : 15 from padding in section + 12~half of font size*/
        background-color: #ccccff; /* Background color to cover the top border */
        border-radius: 8px; /* Add rounded corners */
        padding: 1px 10px; /* Adjust the padding as needed */
        font-size: 25px; /* Adjust the font size as needed */
        font-weight: bold; /* Make the title bold */
    }

    .callout-content {
        border-radius: 8px; /* Add rounded corners */
        top: -35px; /* Adjust the positioning as needed */
        margin-top: 0px; /* spacing between title and content as needed */
    }
}

.shadowed-section {
    @extend .bordered-section;

    box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;
}

.bracket-section {
    background-image: linear-gradient(to right, #808080, #ffffff), linear-gradient(to left, #808080, #ffffff), linear-gradient(to right, #808080, #ffffff), linear-gradient(to left, #808080, #ffffff);
    background-repeat: no-repeat;
    background-size: 15px 3px;
    background-position: top left, top right, bottom left, bottom right;
    border: solid #808080;
    border-width: 0 3px;
    @extend %env-section;    

    .callout-title {
        font-size: 25px; /* Adjust the font size as needed */
        font-weight: bold; /* Make the title bold */
    }

    .callout-content::before {
        content: ""; /* Add content to the pseudo-element */
        display: block;
        width: 100%; /* Full width of the container */
        height: 1px; /* Line height */
        background-color: rgba(0,0,0,0.5); /* Line color */
        left: 0;
        margin-bottom: 5px;
    }

    .callout-content {
        margin-top: 5px;
    }
}

.top-bracket-section {
    @extend .bracket-section;
    background-image: linear-gradient(#808080, #ffffff), linear-gradient(#808080, #ffffff), linear-gradient(#ffffff, #808080), linear-gradient(#ffffff, #808080);
    background-size: 3px 15px; /* brackets' size on the bottom and top */
    border-width: 3px 0; /* border-width for brackets on the bottom and top */

}


/*------------- environment types ------------------*/

.callout[data-callout="cor"] {
    @extend .highlight-section
}

.callout[data-callout="theorem"] {
    @extend .shadowed-section
}

.callout[data-callout="lem"] {
    @extend .bordered-section
}

.callout[data-callout="def"] {
    @extend .shadowed-section
}

.callout[data-callout="proof"] {
    @extend .bracket-section
}

.callout[data-callout="exc"] {
    @extend .bracket-section
}

.callout[data-callout="remark"] {
    @extend .top-bracket-section
}

.callout[data-callout="example"] {
    @extend .bracket-section
}

/*-------------------------------*/

.collapsible {
    overflow: hidden;
    background-color: rgb(250, 0, 200);
}

.collapsible .det-title {
    background-color: rgb(250, 180, 200);
    cursor: pointer;
}

.collapsible .content {
    background-color: rgb(50, 180, 200);
    max-height: 1px;
    overflow: hidden;
}

details {
    margin: 0;
    margin-bottom: 0.85em;
    padding: 0 15px;

    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section .title, .markdown-section theorem {
    font-weight: 700;
    font-size: 1.25em;
    cursor: pointer;
    border-right: 5px solid rgb(90, 120, 135, 0.5);
}

/* ------------------------------ Theorem ------------------------------ */

.markdown-section blockquote.theorem {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.theorem h4 {
    /*background-color: rgb(106, 250, 149);*/
    font-style: bold;
}

/* ------------------------------ Lemma ------------------------------ */

.markdown-section blockquote.lemma {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.lemma h4 {
    font-style: bold;
}

/* ------------------------------ Example ------------------------------ */

.markdown-section blockquote.example {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.example h4 {
    font-style: bold;
}

/* ------------------------------ Definition ------------------------------ */

.markdown-section blockquote.definition {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.definition h4 {
    font-style: bold;
}

/* ------------------------------ Proof ------------------------------ */

.markdown-section blockquote.proof {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    color: black;
}

.markdown-section blockquote.proof h4 {
    font-style: bold;
}

/* ------------------------------ Remark ------------------------------ */

.markdown-section blockquote.remark {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    font-style: italic;
    color: #000000;
    font-family: CMU Serif, Times, Noto Serif JP;
}

.markdown-section blockquote.remark h4 {
    font-style: bold;
}

/* ------------------------------ Exercise ------------------------------ */

.markdown-section blockquote.exercise {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.exercise h4 {
    font-style: bold;
}

/* ------------------------------ Problem ------------------------------ */

.markdown-section blockquote.problem {
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 5px solid rgb(90, 120, 135, 0.5);
    background-color: rgb(150, 180, 200);
    color: black;
}

.markdown-section blockquote.problem h4 {
    font-style: bold;
}