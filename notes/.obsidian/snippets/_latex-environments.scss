/*------------- environment styles ------------------*/

$callout-title-fontsize: 20px;

.callout-content-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.3s ease-out;
}

.section.active .callout-content-wrapper,
.callout-content-wrapper:not([data-collapsed]) {
    grid-template-rows: 1fr;
}

.callout-title[collapsible] {
    cursor: pointer;
}

.callout-content {
    overflow: hidden;
}

%env-section {
    margin: 15px 5px 15px 5px;
    padding: 5px 10px 2px 10px;
}

.highlight-section {
    $callout-color: 238, 100, 149;
    --callout-icon: lucide-sun;
    border-top: none;
    border-bottom: none;
    border-right: none;
    border-left: 4px solid rgb(238, 100, 149);
    box-shadow: none;
    margin: 5px;

    .callout-title {
        font-size: 25px;
        padding: 2px;
        padding-left: 12px;
        /*inner title?*/
        font-family: Inter;
        font-weight: normal;
        background: rgba(238, 100, 149, 0.2);
        color: rgb(238, 100, 149);
    }

    .callout-content {
        padding: 1px 20px 2px 20px;
    }
}

.bordered-section {
    position: relative;
    border: 6px solid #ccccff; /* Adjust the border style and color as needed */
    border-radius: 8px; /* Add rounded corners */
    @extend %env-section;
    margin-top: 30px;
    padding-top: 25px;

    .callout-title {
        position: absolute;
        top: -27px; /* Adjust the positioning as needed : 15 from padding in section + 12~half of font size*/
        background-color: #ccccff; /* Background color to cover the top border */
        border-radius: 8px; /* Add rounded corners */
        padding: 1px 10px; /* Adjust the padding as needed */
        font-size: $callout-title-fontsize;
        font-weight: bold; /* Make the title bold */
    }

    .callout-content {
        border-radius: 8px; /* Add rounded corners */
        top: -35px; /* Adjust the positioning as needed */
        margin-top: 0px; /* spacing between title and content as needed */
    }
}

.shadowed-section {
    @extend .bordered-section;

    box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;
}

.bracket-section {
    background-image: linear-gradient(to right, #808080, #ffffff), linear-gradient(to left, #808080, #ffffff), linear-gradient(to right, #808080, #ffffff), linear-gradient(to left, #808080, #ffffff);
    background-repeat: no-repeat;
    background-size: 15px 3px;
    background-position: top left, top right, bottom left, bottom right;
    border: solid #808080;
    border-width: 0 3px;
    @extend %env-section;

    .callout-title {
        font-size: $callout-title-fontsize;
        font-weight: bold; /* Make the title bold */
    }

    .callout-content::before {
        content: ""; /* Add content to the pseudo-element */
        display: block;
        width: 100%; /* Full width of the container */
        height: 1px; /* Line height */
        background-color: rgba(0,0,0,0.5); /* Line color */
        left: 0;
        margin-bottom: 5px;
    }

    .callout-content {
        margin-top: 5px;
    }
}

.top-bracket-section {
    @extend .bracket-section;
    background-image: linear-gradient(#808080, #ffffff), linear-gradient(#808080, #ffffff), linear-gradient(#ffffff, #808080), linear-gradient(#ffffff, #808080);
    background-size: 3px 15px; /* brackets' size on the bottom and top */
    border-width: 3px 0; /* border-width for brackets on the bottom and top */

}

.left-bracket-section {
    background-image: linear-gradient(to right, #808080, #ffffff), linear-gradient(to right, #808080, #ffffff);
    background-repeat: no-repeat;
    background-size: 15px 3px;
    background-position: top left, bottom left;
    border: solid #808080;
    border-width: 0 0 0 3px;
    @extend %env-section;

    .callout-title {
        font-size: $callout-title-fontsize;
        font-weight: bold; /* Make the title bold */
    }

    .callout-content::before {
        content: ""; /* Add content to the pseudo-element */
        display: block;
        width: 100%; /* Full width of the container */
        height: 1px; /* Line height */
        background-color: rgba(0,0,0,0.5); /* Line color */
        left: 0;
        margin-bottom: 5px;
    }

    .callout-content {
        margin-top: 5px;
    }
}

.right-bracket-section {
    background-image: linear-gradient(to left, #808080, #ffffff), linear-gradient(to left, #808080, #ffffff);
    background-repeat: no-repeat;
    background-size: 15px 3px;
    background-position: top right, bottom right;
    border: solid #808080;
    border-width: 0 3px 0 0;
    @extend %env-section;

    .callout-title {
        font-size: $callout-title-fontsize;
        font-weight: bold; /* Make the title bold */
    }

    .callout-content::before {
        content: ""; /* Add content to the pseudo-element */
        display: block;
        width: 100%; /* Full width of the container */
        height: 1px; /* Line height */
        background-color: rgba(0,0,0,0.5); /* Line color */
        left: 0;
        margin-bottom: 5px;
    }

    .callout-content {
        margin-top: 5px;
    }
}


/*------------- environment types ------------------*/

.callout[data-callout="figure"], .callout[data-callout="תמונה"] {
    @extend .shadowed-section
}

.callout[data-callout="cor"], .callout[data-callout="מסקנה"] {
    @extend .highlight-section
}

.callout[data-callout="theorem"], .callout[data-callout="משפט"] {
    @extend .shadowed-section
}

.callout[data-callout="lem"], .callout[data-callout="למה"] {
    @extend .bordered-section
}

.callout[data-callout="def"], .callout[data-callout="הגדרה"] {
    @extend .shadowed-section
}

.callout[data-callout="proof"], .callout[data-callout="הוכחה"] {
    @extend .bracket-section
}

.callout[data-callout="exc"], .callout[data-callout="תרגיל"] {
    @extend .bracket-section
}

.callout[data-callout="problem"], .callout[data-callout="בעיה"] {
    @extend .bracket-section
}

.callout[data-callout="remark"], .callout[data-callout="הערה"] {
    @extend .top-bracket-section
}

.callout[data-callout="example"], .callout[data-callout="דוגמא"] {
    @extend .bracket-section
}

.callout[data-callout="טענה"] {
    @extend .right-bracket-section
}

.callout[data-callout="claim"] {
    @extend .left-bracket-section
}
